[{"title":"Linux Cups 实战","path":"/2024/08/06/linux/CUPS/","content":"本文以Rocky Linux 8.9 (Green Obsidian)为例使用的身份均为root，并且没有启用防火墙。 安装cups 12sudo yum install cupssudo yum install foomatic-filters 配置 cups 1sudo nano /etc/cups/cupsd.conf 配置监听的ip地址和端口 将Listen localhost:631修改为服务器分配的IP地址，如果想设置全部IP都监听，则修改为Listen 0.0.0.0:631 其中631是CUPS默认的监听端口，如果有使用IPv6的需求，则需要额外添加Listen [::]:631，这里的::表示全部IPv6地址，请根据实际情况修改。 1234# Only listen for connections from the local machine.Listen 10.32.7.38:631Listen localhost:631Listen /run/cups/cups.sock 配置 cups 允许访问的IP地址 格式是Allow from ip&#x2F;subnetmask，如允许192.168.1.0、子网掩码是255.255.255.0的网段时，则Allow from 192.168.1.0&#x2F;24，IPv6的地址需要额外加上[]，如Allowfrom [FDEE::]&#x2F;7。 12345# Restrict access to the server...&lt;Location /&gt; Allow from 10.32.96.241/24 Order allow,deny&lt;/Location&gt; 如果允许全部主机访问，则直接添加Allow all即可，如下 12345# Restrict access to the server...&lt;Location /&gt; Allow all Order allow,deny&lt;/Location&gt; 配置允许访问管理页面的ip地址范围格式与上述一致 12345# Restrict access to the admin pages...&lt;Location /admin&gt; Allow from 10.32.105.40/24 Order allow,deny&lt;/Location&gt; 启动cups 1systemctl start cups 添加打印机以得实针式打印机为例 打印机管理页面 添加打印机配置驱动，手动添加PDD驱动，配置完成后，点击Add Printer 设置打印机首选项 问题汇总 添加打印机后,cups4j 无法获取到打印机信息 1查看添加打印机时是否共享该打印机,如果没有共享,cups4j是拿不到该打印机的"}]